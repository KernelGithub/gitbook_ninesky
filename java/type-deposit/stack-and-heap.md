# 堆\(stack\)&栈\(heap\)

* java把内存分为两中：**堆内存**  **栈内存**

* 栈内存：函数中定义的一些**基本类型的变量**和**对象的引用变量**都在函数的栈内存中分配

* 堆内存：存放**new创建的对象**和**数组**以及**对象的实例变量**。

* 区别：堆的优势是可以动态分配内存大小，生存期也不必事先告诉编译器，因为它是在运行时动态分配内存的。缺点就是要在运行时动态分配内存，存取速度较慢；栈的优势是，存取数据比堆快，仅次于直接位于CPU中的寄存器。另外，**栈数据可以共享**。但缺点是，存在栈中的数据大小与生存期必须是确定的，缺乏灵活性。

* Others：

  * 栈区：主要存放Java程序运行时所需的局部变量、方法的参数、对象的引用以及中间运算结果等数据；
  * 代码区：主要存放Java代码
  * 数据区：主要存放静态变量及全局变量

PS ：1. **【关于String】**只有使用引号包含文本的方式创建的String对象之间使用“+”连接产生的新对象才会被加入字符串池中。对于所有包含new方式新建对象（包含null）的“+”连接表达式，它所产生的新对象都不会被加入字符串池中。2

         2. java是不允许直接修改堆栈中的数据的。



